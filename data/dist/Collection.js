"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Collection {
}
exports.Collection = Collection;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9Db2xsZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBT0EsTUFBYSxVQUFVO0NBZ0d0QjtBQWhHRCxnQ0FnR0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUeXBlLCBQcm9wZXJ0eSB9IGZyb20gXCJAbG1zdHVkaW9zL3R5cGVzXCI7XHJcbmltcG9ydCAqIGFzIFNjaGVtYSBmcm9tIFwiQGxtc3R1ZGlvcy9zY2hlbWFcIjtcclxuXHJcbmltcG9ydCB7IENvbnRleHQgfSBmcm9tIFwiLi9Db250ZXh0XCI7XHJcbmltcG9ydCB7IE1vZGVsIH0gZnJvbSBcIi4vTW9kZWxcIjtcclxuaW1wb3J0IHsgUmVwb3NpdG9yeSB9IGZyb20gXCIuL1JlcG9zaXRvcnlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uPFRNb2RlbCBleHRlbmRzIE1vZGVsPiB7XHJcbiAgICAvLyBjb25zdHJ1Y3RvcihwYXJlbnRNb2RlbDpNb2RlbCwgdHlwZToobmV3ICguLi5hcmdzOmFueVtdKT0+VE1vZGVsKSl7XHJcbiAgICAvLyAgICAgdGhpcy5QYXJlbnQgPSB7XHJcbiAgICAvLyAgICAgICAgIE1vZGVsOiBwYXJlbnRNb2RlbCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgLy8gICAgIH07XHJcbiAgICAvLyAgICAgdGhpcy5DaGlsZCA9IHtcclxuICAgIC8vICAgICAgICAgU2NoZW1hOnRoaXMuQ29udGV4dC5TY2hlbWEuR2V0TW9kZWwodHlwZSksXHJcbiAgICAvLyAgICAgICAgIFJlcG9zaXRvcnk6IDxSZXBvc2l0b3J5PFRNb2RlbD4+cGFyZW50TW9kZWwuX19jb250ZXh0LkdldFJlcG9zaXRvcnkodHlwZSlcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcbiAgICAvLyBwdWJsaWMgUGFyZW50OntcclxuICAgIC8vICAgICBNb2RlbDpNb2RlbCxcclxuICAgIC8vICAgICBQcm9wZXJ0eT86U2NoZW1hLlByb3BlcnR5LFxyXG4gICAgLy8gfVxyXG4gICAgLy8gcHVibGljIENoaWxkOntcclxuICAgIC8vICAgICBTY2hlbWE6U2NoZW1hLk1vZGVsLFxyXG4gICAgLy8gICAgIFJlcG9zaXRvcnk6UmVwb3NpdG9yeTxUTW9kZWw+XHJcbiAgICAvLyB9XHJcbiAgICAvLyBwdWJsaWMgU3RhdHVzPzpTZXJ2ZXJTdGF0dXM7XHJcbiAgICAvLyBwdWJsaWMgZ2V0IENvbnRleHQoKTpDb250ZXh0e1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLlBhcmVudC5Nb2RlbC5fX2NvbnRleHQ7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBnZW5lcmF0ZURlZmF1bHRGaWx0ZXIoKSA6IFBhcnRpYWw8VE1vZGVsPntcclxuICAgIC8vICAgICB2YXIgcmVzdWx0OlBhcnRpYWw8VE1vZGVsPiA9IHt9O1xyXG4gICAgLy8gICAgIGlmICh0aGlzLlBhcmVudC5Qcm9wZXJ0eSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGApO1xyXG5cclxuICAgIC8vICAgICBmb3IgKHZhciBwYXJlbnRQcm9wZXJ0eU5hbWUgaW4gdGhpcy5QYXJlbnQuUHJvcGVydHkuUmVsYXRpb25zaGlwKXtcclxuICAgIC8vICAgICAgICAgdmFyIHBhcmVudFByb3BlcnR5ID0gdGhpcy5QYXJlbnQuTW9kZWwuR2V0U2NoZW1hKCkuR2V0UHJvcGVydHkocGFyZW50UHJvcGVydHlOYW1lKTtcclxuICAgIC8vICAgICAgICAgaWYgKHBhcmVudFByb3BlcnR5ID09PSB1bmRlZmluZWQpXHJcbiAgICAvLyAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbGxlY3Rpb24sLmdlbmVyYXRlRGVmYXVsdEZpbHRlcigpOlBhcmVudCgke3RoaXMuUGFyZW50Lk1vZGVsLkdldFNjaGVtYSgpLkZ1bGxOYW1lfSkgZG9lcyBub3QgaGF2ZSBwcm9wZXJ0eSgke3Byb3BlcnR5TmFtZX0pYCk7XHJcbiAgICAvLyAgICAgICAgIHZhciBjaGlsZFByb3BlcnR5ID0gdGhpcy5QYXJlbnQuUHJvcGVydHkuUmVsYXRpb25zaGlwW3Byb3BlcnR5TmFtZV07XHJcbiAgICAvLyAgICAgICAgIGlmIChjaGlsZFByb3BlcnR5Lk1vZGVsICE9PSB0aGlzLkNoaWxkLlNjaGVtYSlcclxuICAgIC8vICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29sbGVjdGlvbi5nZW5lcmF0ZURlZmF1bHRGaWx0ZXIoKTpSZWxhdGlvbnNoaXAgZG9lcyBub3QgYmVsb2cgdG8gY2hpbGQoJHt0aGlzLkNoaWxkLlNjaGVtYS5GdWxsTmFtZX0pYCk7XHJcbiAgICAvLyAgICAgICAgIGNoaWxkUHJvcGVydHkuU2V0VmFsdWUocmVzdWx0LCBwYXJlbnRQcm9wZXJ0eS5HZXRWYWx1ZSh0aGlzLlBhcmVudC5Nb2RlbCkpO1xyXG4gICAgLy8gICAgIH0gICAgXHJcbiAgICAvLyAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICBcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0IEl0ZW1zKCk6VE1vZGVsW117XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuU3RhdHVzID09PSB1bmRlZmluZWQpXHJcbiAgICAvLyAgICAgICAgIHRoaXMuSW50aWFsaXplKCk7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuQ2hpbGQuUmVwb3NpdG9yeS5Mb2NhbC5TZWFyY2godGhpcy5nZW5lcmF0ZURlZmF1bHRGaWx0ZXIoKSk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIEFkZCgpe1xyXG4gICAgLy8gICAgIHZhciBhZGRlZCA9IHRoaXMuQ2hpbGQuUmVwb3NpdG9yeS5BZGQoKTtcclxuICAgIC8vICAgICB2YXIgcHJvcGVydGllcyA9IHRoaXMuQ2hpbGQuU2NoZW1hLlByb3BlcnRpZXMuZmlsdGVyKHggPT4ge3JldHVybiB4LlByb3BlcnR5VHlwZSA9PT0gdGhpcy5QYXJlbnQuTW9kZWwuR2V0U2NoZW1hKCl9KVxyXG4gICAgLy8gICAgIGZvciAodmFyIHByb3BlcnR5IG9mIHByb3BlcnRpZXMpe1xyXG4gICAgLy8gICAgICAgICBwcm9wZXJ0eS5TZXRWYWx1ZShhZGRlZCwgdGhpcy5QYXJlbnQuTW9kZWwpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICByZXR1cm4gYWRkZWQ7XHJcbiAgICAvLyB9XHJcblxyXG5cdC8vIHB1YmxpYyAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7ICBcclxuICAgIC8vICAgICBpZiAodGhpcy5TdGF0dXM9PT11bmRlZmluZWQpXHJcbiAgICAvLyAgICAgICAgIHRoaXMuSW50aWFsaXplKCk7XHJcbiAgICAvLyAgICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuSXRlbXMpIHtcclxuICAgIC8vICAgICAgICAgeWllbGQgaXRlbTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9ICBcclxuICAgIC8vIHB1YmxpYyBnZXQgbGVuZ3RoKCk6bnVtYmVye1xyXG4gICAgLy8gICAgIGlmICh0aGlzLlN0YXR1cyA9PT0gdW5kZWZpbmVkKVxyXG4gICAgLy8gICAgICAgICAgdGhpcy5JbnRpYWxpemUoKTtcclxuXHJcbiAgICAvLyAgICAgdmFyIGl0ZW1zID0gdGhpcy5DaGlsZC5SZXBvc2l0b3J5LkxvY2FsLlNlYXJjaCh0aGlzLmdlbmVyYXRlRGVmYXVsdEZpbHRlcigpKTtcclxuICAgIC8vICAgICByZXR1cm4gaXRlbXMubGVuZ3RoO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gcHVibGljIEludGlhbGl6ZSgpe1xyXG4gICAgLy8gICAgIHN3aXRjaCAodGhpcy5TdGF0dXMpe1xyXG4gICAgLy8gICAgICAgICBjYXNlIFNlcnZlclN0YXR1cy5TZXJ2ZWQ6XHJcbiAgICAvLyAgICAgICAgICAgICBicmVhaztcclxuICAgIC8vICAgICAgICAgY2FzZSBTZXJ2ZXJTdGF0dXMuU2VydmluZzpcclxuICAgIC8vICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgLy8gICAgICAgICBkZWZhdWx0OiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgLy8gICAgICAgICAgICAgdmFyIGZpbHRlciA9IHRoaXMuZ2VuZXJhdGVEZWZhdWx0RmlsdGVyKCk7XHJcbiAgICAvLyAgICAgICAgICAgICB2YXIgc2VydmVyID0gdHJ1ZTtcclxuICAgIC8vICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBmaWx0ZXIpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuQ2hpbGQuU2NoZW1hLkdldFByb3BlcnR5KGtleSk7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ICE9PSB1bmRlZmluZWQpe1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGZpbHRlcltrZXldKSAhPT0gcHJvcGVydHkuUHJvcGVydHlUeXBlLk5hbWUpXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIgPSBmYWxzZTtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICB9ICAgICAgXHJcbiAgICAvLyAgICAgICAgICAgICBpZiAoc2VydmVyKXtcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLlN0YXR1cyA9IExNUy5TZXJ2ZXJTdGF0dXMuU2VydmluZztcclxuICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLkNoaWxkLlJlcG9zaXRvcnkuU2VhcmNoKGZpbHRlcikudGhlbihpdGVtcyA9PntcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgdGhpcy5TdGF0dXMgPSBMTVMuU2VydmVyU3RhdHVzLlNlcnZlZDtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAgICAgIH0gIFxyXG4gICAgLy8gICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG4gICAgXHJcbn0iXX0=